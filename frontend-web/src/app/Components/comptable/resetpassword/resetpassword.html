<div class="latest-products">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8">
  
          <div class="card shadow-sm clients-card">
            <div class="card-header">
              <h5 class="m-0">🔒 Changer le mot de passe</h5>
            </div>
  
            <div class="card-body">
              <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">
  
                <!-- Ancien mot de passe -->
                <div class="mb-3 position-relative">
                  <label>
                    <i class="fa-solid fa-lock-open me-1"></i>
                    Ancien mot de passe
                  </label>
                  <div class="password-wrapper">
                    <input
                      [type]="showCurrent ? 'text' : 'password'"
                      class="form-control"
                      formControlName="current_password"
                      placeholder="Entrez votre ancien mot de passe"
                    />
                    <i
                      class="fa-solid"
                      [ngClass]="showCurrent ? 'fa-eye-slash' : 'fa-eye'"
                      (click)="togglePassword('current')"
                    ></i>
                  </div>
                </div>
  
                <!-- Nouveau mot de passe -->
                <div class="mb-3 position-relative">
                  <label>
                    <i class="fa-solid fa-lock me-1"></i>
                    Nouveau mot de passe
                  </label>
                  <div class="password-wrapper">
                    <input
                      [type]="showNew ? 'text' : 'password'"
                      class="form-control"
                      formControlName="new_password"
                      placeholder="Entrez un nouveau mot de passe"
                    />
                    <i
                      class="fa-solid"
                      [ngClass]="showNew ? 'fa-eye-slash' : 'fa-eye'"
                      (click)="togglePassword('new')"
                    ></i>
                  </div>
                </div>
  
                <!-- Confirmer le mot de passe -->
                <div class="mb-3 position-relative">
                  <label>
                    <i class="fa-solid fa-lock me-1"></i>
                    Confirmer le mot de passe
                  </label>
                  <div class="password-wrapper">
                    <input
                      [type]="showConfirm ? 'text' : 'password'"
                      class="form-control"
                      formControlName="confirm_password"
                      placeholder="Confirmez votre mot de passe"
                    />
                    <i
                      class="fa-solid"
                      [ngClass]="showConfirm ? 'fa-eye-slash' : 'fa-eye'"
                      (click)="togglePassword('confirm')"
                    ></i>
                  </div>
                </div>
  
                <!-- Messages -->
                <div *ngIf="successMessage" class="alert alert-success text-center mt-3">
                  {{ successMessage }}
                </div>
                <div *ngIf="errorMessage" class="alert alert-danger text-center mt-3">
                  {{ errorMessage }}
                </div>
  
                <!-- Buttons -->
                <button 
                  type="submit" 
                  class="btn btn-dark-golden w-100 mt-3" 
                  [disabled]="resetForm.invalid || isLoading"
                >
                  💾 Enregistrer le nouveau mot de passe
                </button>
  
                <a routerLink="/profile" class="btn btn-outline-secondary w-100 mt-2">
                  ↩️ Retour au profil
                </a>
  
              </form>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  </div>
  